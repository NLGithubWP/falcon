2022/06/03 20:09:18 global-const.go:244: Read user defined env var {IS_DEBUG: debug-off}
2022/06/03 20:09:18 global-const.go:241: Set env var to default {TEST_IMG_NAME: redis:5.0.3-alpine3.8}
2022/06/03 20:09:18 global-const.go:241: Set env var to default {FALCON_WORKER_IMAGE: falcon-dist-train:latest}
2022/06/03 20:09:18 global-const.go:244: Read user defined env var {COORD_SERVER_IP: 127.0.0.1}
2022/06/03 20:09:18 global-const.go:244: Read user defined env var {COORD_SERVER_PORT: 30004}
2022/06/03 20:09:18 global-const.go:244: Read user defined env var {PARTY_SERVER_IP: 127.0.0.1}
2022/06/03 20:09:18 global-const.go:244: Read user defined env var {PARTY_SERVER_NODE_PORT: 30006}
2022/06/03 20:09:18 global-const.go:244: Read user defined env var {PARTY_ID: 1}
2022/06/03 20:09:18 global-const.go:244: Read user defined env var {MPC_EXE_PATH: /opt/falcon/third_party/MP-SPDZ/semi-party.x}
2022/06/03 20:09:18 global-const.go:244: Read user defined env var {FL_ENGINE_PATH: /opt/falcon/build/src/executor/falcon}
2022/06/03 20:09:18 falcon_platform.go:181: common.MpcExecutorPortFileBasePath is /opt/falcon/third_party/MP-SPDZ/Programs/Public-Input/
2022/06/03 20:09:18 global-const.go:244: Read user defined env var {PARTY_SERVER_CLUSTER_IPS: 127.0.0.1}
2022/06/03 20:09:18 global-const.go:244: Read user defined env var {PARTY_SERVER_CLUSTER_LABEL: host}
2022/06/03 20:09:18 falcon_platform.go:196: common.PartyServerClusterIPs is [127.0.0.1]
2022/06/03 20:09:18 falcon_platform.go:197: common.PartyServerClusterIPs is [host]
2022/06/03 20:09:18 falcon_platform.go:359: Launch falcon_platform, Service is  partyserver
2022/06/03 20:09:18 run_partyserver.go:78: RunPartyServer: connecting to Coordinator 127.0.0.1:30004 to AddPort 30006
2022/06/03 20:09:18 run_partyserver.go:81: RunPartyServer: PartyServerAdd  127.0.0.1
2022/06/03 20:09:18 run_partyserver.go:88: [party server 1] listening on IP: 127.0.0.1, Port: 30006
2022/06/03 20:11:02 router.go:36: [PartyServer]: RunWorker registering partyServerPort to coord 30006
2022/06/03 20:11:02 controller.go:42: [PartyServer]: PartyServer setup workers, workerGroupNum =  1  workerPreGroup =  1 totalWorkers= 1 stageName= lime_instance_sample_stage enableDistributedTrain= 0
2022/06/03 20:11:02 controller.go:49: [PartyServer]: PartyServer setup one worker for centralized training
2022/06/03 20:11:02 controller.go:20: [PartyServer]: PartyServer Schedule worker 1 to node 0 
2022/06/03 20:11:02 deploy-docker.go:96: [JobManager]: Current in docker, TrainWorker, svcName pty1-cent-worker1-job1-tr-instance-sample-stage
2022/06/03 20:11:02 deploy-docker.go:109: [JobManager]: localTaskRuntimeLogs is  /opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-cent-worker1-job1-tr-instance-sample-stage
2022/06/03 20:11:02 deploy-docker.go:140: [JobManager]: CentralizedWorker, map 2 ports to host
2022/06/03 20:11:02 deploy-docker.go:142: [JobManager]: CentralizedWorker, WorkerPort is 22007, ExecutorExecutorPort is [22008 22009 22010],
2022/06/03 20:11:02 utils.go:207: [ExecuteCmd]: /usr/bin/docker service create \
--name pty1-cent-worker1-job1-tr-instance-sample-stage \
--network host \
--replicas 1 \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataOutputPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/modelPath \
--mount type=bind,source=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918,destination=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env ENV=docker \
--env SERVICE_NAME=TrainWorker \
--env LOG_PATH=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env TASK_DATA_PATH=/dataPath \
--env TASK_MODEL_PATH=/modelPath \
--env TASK_DATA_OUTPUT=/dataOutputPath \
--env RUN_TIME_LOGS=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-cent-worker1-job1-tr-instance-sample-stage \
--env WORKER_ADDR=127.0.0.1:22007 \
--env MASTER_ADDR=127.0.0.1:22001 \
--env WORKER_ID=1 \
--env GROUP_ID=0 \
--env PARTY_ID=1 \
--env DISTRIBUTED_ROLE=2 \
--env EXECUTOR_TYPE=TrainWorker \
--env MPC_EXE_PATH=/opt/falcon/third_party/MP-SPDZ/semi-party.x \
--env FL_ENGINE_PATH=/opt/falcon/build/src/executor/falcon \
--constraint node.labels.name==host \
--restart-condition on-failure falcon-dist-train:latest
2022/06/03 20:11:18 utils.go:197: [ExecuteCmd]: ErrorLog is  image falcon-dist-train:latest could not be accessed on a registry to record
its digest. Each node will access falcon-dist-train:latest independently,
possibly leading to different nodes running different
versions of the image.


2022/06/03 20:11:18 utils.go:198: [ExecuteCmd]: OutPut is  yewmkdviijtlka0x2e25ztzka
overall progress: 0 out of 1 tasks
1/1:  
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 1 out of 1 tasks
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Service converged

2022/06/03 20:11:18 manager.go:110: [ResourceManager]: Release Resources, can not delete resources
2022/06/03 20:12:16 router.go:36: [PartyServer]: RunWorker registering partyServerPort to coord 30006
2022/06/03 20:12:16 controller.go:42: [PartyServer]: PartyServer setup workers, workerGroupNum =  1  workerPreGroup =  3 totalWorkers= 3 stageName= lime_pred_task_stage enableDistributedTrain= 1
2022/06/03 20:12:16 controller.go:102: [PartyServer]: PartyServer deploy worker and ps for group 0 ...
2022/06/03 20:12:16 controller.go:106: [PartyServer]: PartyServer setup one worker as parameter server to conduct distributed training
2022/06/03 20:12:16 controller.go:20: [PartyServer]: PartyServer Schedule worker 0 to node 0 
2022/06/03 20:12:16 router.go:36: [PartyServer]: RunWorker registering partyServerPort to coord 30006
2022/06/03 20:12:16 controller.go:42: [PartyServer]: PartyServer setup workers, workerGroupNum =  1  workerPreGroup =  3 totalWorkers= 3 stageName= lime_weight_task_stage enableDistributedTrain= 1
2022/06/03 20:12:16 controller.go:102: [PartyServer]: PartyServer deploy worker and ps for group 0 ...
2022/06/03 20:12:16 controller.go:106: [PartyServer]: PartyServer setup one worker as parameter server to conduct distributed training
2022/06/03 20:12:16 controller.go:20: [PartyServer]: PartyServer Schedule worker 0 to node 0 
2022/06/03 20:12:16 deploy-docker.go:96: [JobManager]: Current in docker, TrainWorker, svcName pty1-dist-ps0-job1-tr-pred-task-stage
2022/06/03 20:12:16 deploy-docker.go:109: [JobManager]: localTaskRuntimeLogs is  /opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-ps0-job1-tr-pred-task-stage
2022/06/03 20:12:16 deploy-docker.go:230: [JobManager]: DistributedParameterServer, map 2 ports to host
2022/06/03 20:12:16 deploy-docker.go:232: [JobManager]: DistributedParameterServer, WorkerPort is 22057, PsExecutorPorts is [22067 22068]
2022/06/03 20:12:16 controller.go:143: [PartyServer]: PartyServer setup one worker 1 as train worker to conduct distributed training
2022/06/03 20:12:16 controller.go:20: [PartyServer]: PartyServer Schedule worker 1 to node 0 
2022/06/03 20:12:16 deploy-docker.go:96: [JobManager]: Current in docker, TrainWorker, svcName pty1-dist-ps0-job1-tr-weight-task-stage
2022/06/03 20:12:16 deploy-docker.go:109: [JobManager]: localTaskRuntimeLogs is  /opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-ps0-job1-tr-weight-task-stage
2022/06/03 20:12:16 deploy-docker.go:230: [JobManager]: DistributedParameterServer, map 2 ports to host
2022/06/03 20:12:16 deploy-docker.go:232: [JobManager]: DistributedParameterServer, WorkerPort is 22058, PsExecutorPorts is [22069 22070]
2022/06/03 20:12:16 controller.go:143: [PartyServer]: PartyServer setup one worker 1 as train worker to conduct distributed training
2022/06/03 20:12:16 controller.go:20: [PartyServer]: PartyServer Schedule worker 1 to node 0 
2022/06/03 20:12:16 utils.go:207: [ExecuteCmd]: /usr/bin/docker service create \
--name pty1-dist-ps0-job1-tr-pred-task-stage \
--network host \
--replicas 1 \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataOutputPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/modelPath \
--mount type=bind,source=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918,destination=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env ENV=subprocess \
--env SERVICE_NAME=TrainWorker \
--env LOG_PATH=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env TASK_DATA_PATH=/dataPath \
--env TASK_MODEL_PATH=/modelPath \
--env TASK_DATA_OUTPUT=/dataOutputPath \
--env RUN_TIME_LOGS=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-ps0-job1-tr-pred-task-stage \
--env WORKER_ADDR=127.0.0.1:22057 \
--env MASTER_ADDR=127.0.0.1:22018 \
--env WORKER_ID=0 \
--env GROUP_ID=0 \
--env PARTY_ID=1 \
--env DISTRIBUTED_ROLE=0 \
--env EXECUTOR_TYPE=TrainWorker \
--env MPC_EXE_PATH=/opt/falcon/third_party/MP-SPDZ/semi-party.x \
--env FL_ENGINE_PATH=/opt/falcon/build/src/executor/falcon \
--constraint node.labels.name==host \
--restart-condition on-failure falcon-dist-train:latest
2022/06/03 20:12:16 utils.go:207: [ExecuteCmd]: /usr/bin/docker service create \
--name pty1-dist-ps0-job1-tr-weight-task-stage \
--network host \
--replicas 1 \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataOutputPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/modelPath \
--mount type=bind,source=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918,destination=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env ENV=subprocess \
--env SERVICE_NAME=TrainWorker \
--env LOG_PATH=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env TASK_DATA_PATH=/dataPath \
--env TASK_MODEL_PATH=/modelPath \
--env TASK_DATA_OUTPUT=/dataOutputPath \
--env RUN_TIME_LOGS=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-ps0-job1-tr-weight-task-stage \
--env WORKER_ADDR=127.0.0.1:22058 \
--env MASTER_ADDR=127.0.0.1:22017 \
--env WORKER_ID=0 \
--env GROUP_ID=0 \
--env PARTY_ID=1 \
--env DISTRIBUTED_ROLE=0 \
--env EXECUTOR_TYPE=TrainWorker \
--env MPC_EXE_PATH=/opt/falcon/third_party/MP-SPDZ/semi-party.x \
--env FL_ENGINE_PATH=/opt/falcon/build/src/executor/falcon \
--constraint node.labels.name==host \
--restart-condition on-failure falcon-dist-train:latest
2022/06/03 20:12:16 controller.go:163: [PartyServer]: PartyServer setup one worker as train worker with workerID=1 to conduct distributed training
2022/06/03 20:12:16 deploy-docker.go:96: [JobManager]: Current in docker, TrainWorker, svcName pty1-dist-worker1-job1-tr-weight-task-stage
2022/06/03 20:12:16 deploy-docker.go:109: [JobManager]: localTaskRuntimeLogs is  /opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-worker1-job1-tr-weight-task-stage
2022/06/03 20:12:16 deploy-docker.go:185: [JobManager]: DistributedWorker, map 3 ports to host
2022/06/03 20:12:16 deploy-docker.go:187: [JobManager]: DistributedWorker, WorkerPort is 22072, ExecutorExecutorPort is [22076 22077 22078], ExecutorPSPort is 22081
2022/06/03 20:12:16 controller.go:143: [PartyServer]: PartyServer setup one worker 2 as train worker to conduct distributed training
2022/06/03 20:12:16 controller.go:20: [PartyServer]: PartyServer Schedule worker 2 to node 0 
2022/06/03 20:12:16 controller.go:163: [PartyServer]: PartyServer setup one worker as train worker with workerID=1 to conduct distributed training
2022/06/03 20:12:16 deploy-docker.go:96: [JobManager]: Current in docker, TrainWorker, svcName pty1-dist-worker1-job1-tr-pred-task-stage
2022/06/03 20:12:16 deploy-docker.go:109: [JobManager]: localTaskRuntimeLogs is  /opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-worker1-job1-tr-pred-task-stage
2022/06/03 20:12:16 deploy-docker.go:185: [JobManager]: DistributedWorker, map 3 ports to host
2022/06/03 20:12:16 deploy-docker.go:187: [JobManager]: DistributedWorker, WorkerPort is 22071, ExecutorExecutorPort is [22073 22074 22075], ExecutorPSPort is 22082
2022/06/03 20:12:16 controller.go:143: [PartyServer]: PartyServer setup one worker 2 as train worker to conduct distributed training
2022/06/03 20:12:16 controller.go:20: [PartyServer]: PartyServer Schedule worker 2 to node 0 
2022/06/03 20:12:16 utils.go:207: [ExecuteCmd]: /usr/bin/docker service create \
--name pty1-dist-worker1-job1-tr-weight-task-stage \
--network host \
--replicas 1 \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataOutputPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/modelPath \
--mount type=bind,source=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918,destination=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env ENV=subprocess \
--env SERVICE_NAME=TrainWorker \
--env LOG_PATH=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env TASK_DATA_PATH=/dataPath \
--env TASK_MODEL_PATH=/modelPath \
--env TASK_DATA_OUTPUT=/dataOutputPath \
--env RUN_TIME_LOGS=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-worker1-job1-tr-weight-task-stage \
--env WORKER_ADDR=127.0.0.1:22072 \
--env MASTER_ADDR=127.0.0.1:22017 \
--env WORKER_ID=1 \
--env GROUP_ID=0 \
--env PARTY_ID=1 \
--env DISTRIBUTED_ROLE=1 \
--env EXECUTOR_TYPE=TrainWorker \
--env MPC_EXE_PATH=/opt/falcon/third_party/MP-SPDZ/semi-party.x \
--env FL_ENGINE_PATH=/opt/falcon/build/src/executor/falcon \
--constraint node.labels.name==host \
--restart-condition on-failure falcon-dist-train:latest
2022/06/03 20:12:16 utils.go:207: [ExecuteCmd]: /usr/bin/docker service create \
--name pty1-dist-worker1-job1-tr-pred-task-stage \
--network host \
--replicas 1 \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataOutputPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/modelPath \
--mount type=bind,source=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918,destination=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env ENV=subprocess \
--env SERVICE_NAME=TrainWorker \
--env LOG_PATH=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env TASK_DATA_PATH=/dataPath \
--env TASK_MODEL_PATH=/modelPath \
--env TASK_DATA_OUTPUT=/dataOutputPath \
--env RUN_TIME_LOGS=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-worker1-job1-tr-pred-task-stage \
--env WORKER_ADDR=127.0.0.1:22071 \
--env MASTER_ADDR=127.0.0.1:22018 \
--env WORKER_ID=1 \
--env GROUP_ID=0 \
--env PARTY_ID=1 \
--env DISTRIBUTED_ROLE=1 \
--env EXECUTOR_TYPE=TrainWorker \
--env MPC_EXE_PATH=/opt/falcon/third_party/MP-SPDZ/semi-party.x \
--env FL_ENGINE_PATH=/opt/falcon/build/src/executor/falcon \
--constraint node.labels.name==host \
--restart-condition on-failure falcon-dist-train:latest
2022/06/03 20:12:16 controller.go:163: [PartyServer]: PartyServer setup one worker as train worker with workerID=2 to conduct distributed training
2022/06/03 20:12:16 deploy-docker.go:96: [JobManager]: Current in docker, TrainWorker, svcName pty1-dist-worker2-job1-tr-weight-task-stage
2022/06/03 20:12:16 deploy-docker.go:109: [JobManager]: localTaskRuntimeLogs is  /opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-worker2-job1-tr-weight-task-stage
2022/06/03 20:12:16 deploy-docker.go:185: [JobManager]: DistributedWorker, map 3 ports to host
2022/06/03 20:12:16 deploy-docker.go:187: [JobManager]: DistributedWorker, WorkerPort is 22083, ExecutorExecutorPort is [22085 22086 22087], ExecutorPSPort is 22093
2022/06/03 20:12:16 utils.go:207: [ExecuteCmd]: /usr/bin/docker service create \
--name pty1-dist-worker2-job1-tr-weight-task-stage \
--network host \
--replicas 1 \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataOutputPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/modelPath \
--mount type=bind,source=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918,destination=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env ENV=subprocess \
--env SERVICE_NAME=TrainWorker \
--env LOG_PATH=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env TASK_DATA_PATH=/dataPath \
--env TASK_MODEL_PATH=/modelPath \
--env TASK_DATA_OUTPUT=/dataOutputPath \
--env RUN_TIME_LOGS=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-worker2-job1-tr-weight-task-stage \
--env WORKER_ADDR=127.0.0.1:22083 \
--env MASTER_ADDR=127.0.0.1:22017 \
--env WORKER_ID=2 \
--env GROUP_ID=0 \
--env PARTY_ID=1 \
--env DISTRIBUTED_ROLE=1 \
--env EXECUTOR_TYPE=TrainWorker \
--env MPC_EXE_PATH=/opt/falcon/third_party/MP-SPDZ/semi-party.x \
--env FL_ENGINE_PATH=/opt/falcon/build/src/executor/falcon \
--constraint node.labels.name==host \
--restart-condition on-failure falcon-dist-train:latest
2022/06/03 20:12:16 controller.go:163: [PartyServer]: PartyServer setup one worker as train worker with workerID=2 to conduct distributed training
2022/06/03 20:12:16 deploy-docker.go:96: [JobManager]: Current in docker, TrainWorker, svcName pty1-dist-worker2-job1-tr-pred-task-stage
2022/06/03 20:12:16 deploy-docker.go:109: [JobManager]: localTaskRuntimeLogs is  /opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-worker2-job1-tr-pred-task-stage
2022/06/03 20:12:16 deploy-docker.go:185: [JobManager]: DistributedWorker, map 3 ports to host
2022/06/03 20:12:16 deploy-docker.go:187: [JobManager]: DistributedWorker, WorkerPort is 22084, ExecutorExecutorPort is [22088 22089 22090], ExecutorPSPort is 22094
2022/06/03 20:12:16 utils.go:207: [ExecuteCmd]: /usr/bin/docker service create \
--name pty1-dist-worker2-job1-tr-pred-task-stage \
--network host \
--replicas 1 \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/dataOutputPath \
--mount type=bind,source=/opt/falcon/data/dataset/bank_marketing_data/client1,destination=/modelPath \
--mount type=bind,source=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918,destination=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env ENV=subprocess \
--env SERVICE_NAME=TrainWorker \
--env LOG_PATH=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918 \
--env TASK_DATA_PATH=/dataPath \
--env TASK_MODEL_PATH=/modelPath \
--env TASK_DATA_OUTPUT=/dataOutputPath \
--env RUN_TIME_LOGS=/opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220603_200918/runtime_logs/pty1-dist-worker2-job1-tr-pred-task-stage \
--env WORKER_ADDR=127.0.0.1:22084 \
--env MASTER_ADDR=127.0.0.1:22018 \
--env WORKER_ID=2 \
--env GROUP_ID=0 \
--env PARTY_ID=1 \
--env DISTRIBUTED_ROLE=1 \
--env EXECUTOR_TYPE=TrainWorker \
--env MPC_EXE_PATH=/opt/falcon/third_party/MP-SPDZ/semi-party.x \
--env FL_ENGINE_PATH=/opt/falcon/build/src/executor/falcon \
--constraint node.labels.name==host \
--restart-condition on-failure falcon-dist-train:latest
2022/06/03 20:12:32 utils.go:197: [ExecuteCmd]: ErrorLog is  image falcon-dist-train:latest could not be accessed on a registry to record
its digest. Each node will access falcon-dist-train:latest independently,
possibly leading to different nodes running different
versions of the image.


2022/06/03 20:12:32 utils.go:198: [ExecuteCmd]: OutPut is  k1r9g8jl8qx52k3hukf9jryxa
overall progress: 0 out of 1 tasks
1/1:  
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 1 out of 1 tasks
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Service converged

2022/06/03 20:12:32 manager.go:110: [ResourceManager]: Release Resources, can not delete resources
2022/06/03 20:12:32 utils.go:197: [ExecuteCmd]: ErrorLog is  image falcon-dist-train:latest could not be accessed on a registry to record
its digest. Each node will access falcon-dist-train:latest independently,
possibly leading to different nodes running different
versions of the image.


2022/06/03 20:12:32 utils.go:198: [ExecuteCmd]: OutPut is  hklyye7w27zlqq5mn0ruwyk44
overall progress: 0 out of 1 tasks
1/1:  
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 1 out of 1 tasks
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Service converged

2022/06/03 20:12:32 manager.go:110: [ResourceManager]: Release Resources, can not delete resources
2022/06/03 20:12:32 utils.go:197: [ExecuteCmd]: ErrorLog is  image falcon-dist-train:latest could not be accessed on a registry to record
its digest. Each node will access falcon-dist-train:latest independently,
possibly leading to different nodes running different
versions of the image.


2022/06/03 20:12:32 utils.go:198: [ExecuteCmd]: OutPut is  lc5j0h9cibzub8nzi0jvofwkk
overall progress: 0 out of 1 tasks
1/1:  
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 1 out of 1 tasks
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Service converged

2022/06/03 20:12:32 manager.go:110: [ResourceManager]: Release Resources, can not delete resources
2022/06/03 20:12:32 utils.go:197: [ExecuteCmd]: ErrorLog is  image falcon-dist-train:latest could not be accessed on a registry to record
its digest. Each node will access falcon-dist-train:latest independently,
possibly leading to different nodes running different
versions of the image.


2022/06/03 20:12:32 utils.go:198: [ExecuteCmd]: OutPut is  ae4spw5h2rsosyma47w7sz2np
overall progress: 0 out of 1 tasks
1/1:  
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 1 out of 1 tasks
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Service converged

2022/06/03 20:12:32 manager.go:110: [ResourceManager]: Release Resources, can not delete resources
2022/06/03 20:12:33 utils.go:197: [ExecuteCmd]: ErrorLog is  image falcon-dist-train:latest could not be accessed on a registry to record
its digest. Each node will access falcon-dist-train:latest independently,
possibly leading to different nodes running different
versions of the image.


2022/06/03 20:12:33 utils.go:198: [ExecuteCmd]: OutPut is  yt963h5g3aunr4uyusf70jo17
overall progress: 0 out of 1 tasks
1/1:  
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 1 out of 1 tasks
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Service converged

2022/06/03 20:12:33 manager.go:110: [ResourceManager]: Release Resources, can not delete resources
2022/06/03 20:12:33 utils.go:197: [ExecuteCmd]: ErrorLog is  image falcon-dist-train:latest could not be accessed on a registry to record
its digest. Each node will access falcon-dist-train:latest independently,
possibly leading to different nodes running different
versions of the image.


2022/06/03 20:12:33 utils.go:198: [ExecuteCmd]: OutPut is  85zj30uvhum1evhi8yi6c2dvh
overall progress: 0 out of 1 tasks
1/1:  
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 0 out of 1 tasks
overall progress: 1 out of 1 tasks
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 5 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 4 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 3 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 2 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Waiting 1 seconds to verify that tasks are stable...
verify: Service converged

2022/06/03 20:12:33 manager.go:110: [ResourceManager]: Release Resources, can not delete resources
2022/06/03 20:35:09 run_partyserver.go:60: RunPartyServer: call client.PartyServerDelete
2022/06/03 20:35:09 run_partyserver.go:63: RunPartyServer: delete all docker containers
2022/06/03 20:35:09 run_partyserver.go:104: [party server]: Server Stopped
