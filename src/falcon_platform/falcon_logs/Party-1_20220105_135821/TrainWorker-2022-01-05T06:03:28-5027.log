2022/01/05 06:03:28 global-const.go:220: Set env var to default {IS_DEBUG: debug-off}
2022/01/05 06:03:28 global-const.go:220: Set env var to default {TEST_IMG_NAME: redis:5.0.3-alpine3.8}
2022/01/05 06:03:28 global-const.go:220: Set env var to default {FALCON_WORKER_IMAGE: falcon-lime:latest}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {TASK_DATA_PATH: /dataPath}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {TASK_MODEL_PATH: /modelPath}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {TASK_DATA_OUTPUT: /dataOutputPath}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {RUN_TIME_LOGS: /opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220105_135821/runtime_logs/party1-distributed-worker2-job1-train}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {WORKER_ADDR: 127.0.0.1:22034}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {MASTER_ADDR: 127.0.0.1:22001}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {WORKER_ID: 2}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {GROUP_ID: 0}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {PARTY_ID: 1}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {DISTRIBUTED_ROLE: 1}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {MPC_EXE_PATH: /opt/falcon/third_party/MP-SPDZ/semi-party.x}
2022/01/05 06:03:28 global-const.go:223: Read user defined env var {FL_ENGINE_PATH: /opt/falcon/build/src/executor/falcon}
2022/01/05 06:03:28 falcon_platform.go:270: common.MpcExecutorPortFileBasePath is /opt/falcon/third_party/MP-SPDZ/Programs/Public-Input/
2022/01/05 06:03:28 global-const.go:220: Set env var to default {EXECUTOR_NAME: }
2022/01/05 06:03:28 falcon_platform.go:369: Launching falcon_platform, the common.WorkerType 
2022/01/05 06:03:28 rpcbase.go:28: [rpcbase] InitRpcBase called with Addr 127.0.0.1:22034
2022/01/05 06:03:28 workerbase.go:172: [WorkerBase]: reset called
2022/01/05 06:03:28 trainworker.go:47: [TrainWorker] Worker initialized, WorkerName=TrainWorker, WorkerID=2, PartyID=1, DistributedRole=distributed-worker 
2022/01/05 06:03:28 workerbase.go:60: [WorkerBase]: RunWorker called
2022/01/05 06:03:28 trainworker.go:74: [TrainWorker] from PartyID 1 to register to masterAddr(127.0.0.1:22001)
2022/01/05 06:03:28 workerbase.go:98: [WorkerBase]: call Master.RegisterWorker to register WorkerAddr: 127.0.0.1:22034 
2022/01/05 06:03:28 rpc_utils.go:49: ----Rpc Call----, addr: 127.0.0.1:22001, methodName: Master.RegisterWorker 
2022/01/05 06:03:28 rpcbase.go:42: [TrainWorker]: listening on tcp, 0.0.0.0:22034 
2022/01/05 06:03:30 trainworker.go:177: [TrainWorker] TrainWorker.RunMpc called, mpcAlgorithmName: vfl_decision_tree
2022/01/05 06:03:30 manager.go:105: [ResourceManager]: DeleteResources done
2022/01/05 06:03:30 traintask.go:16: [TrainWorker]: spawn thread for mpc
2022/01/05 06:03:30 traintask.go:1056: [TrainWorker]: begin task mpc
2022/01/05 06:03:30 traintask.go:1062: [TrainWorker]: Third Party base path for executing semi-party.x is : "/opt/falcon/third_party/MP-SPDZ"
2022/01/05 06:03:30 traintask.go:1069: [TrainWorker]: Config mpc-network file, write [127.0.0.1:22019
127.0.0.1:22038
127.0.0.1:22057] to file [/opt/falcon/third_party/MP-SPDZ/mpc-network-1] 
2022/01/05 06:03:30 traintask.go:1087: [TrainWorker]: Config mpcExecutorPortFile file, write [56000] to file [/opt/falcon/third_party/MP-SPDZ/Programs/Public-Input/vfl_decision_tree] 
2022/01/05 06:03:30 traintask.go:1102: [TrainWorker]: Config mpcExecutorPairNetworkCfgPath file, write port [56000] to file [/opt/falcon/third_party/MP-SPDZ/Programs/Public-Input/vfl_decision_tree] 
2022/01/05 06:03:30 traintask.go:1132: ---------------------------------------------------------------------------------
2022/01/05 06:03:30 traintask.go:1133: [TrainWorker]: cmd is "/opt/falcon/third_party/MP-SPDZ/semi-party.x -F -N 3 -p 1 -I -ip /opt/falcon/third_party/MP-SPDZ/mpc-network-1 vfl_decision_tree"
2022/01/05 06:03:30 traintask.go:1134: ---------------------------------------------------------------------------------
2022/01/05 06:03:30 mngr-process.go:123: [subProcessMngr]: open subProcess, PID= 920
2022/01/05 06:03:35 trainworker.go:179: [TrainWorker]: WorkerAddr 127.0.0.1:22034, TrainWorker.RunMpc for task vfl_decision_tree done
2022/01/05 06:03:35 trainworker.go:90: [TrainWorker] TrainWorker.DoTask called, taskName: model_training
2022/01/05 06:03:35 trainworker.go:239: [TrainWorker]: ----------- WorkerAddr , printParams ----------- decision_tree
2022/01/05 06:03:35 trainworker.go:262: [TrainWorker]: original params = {state:{NoUnkeyedLiterals:{} DoNotCompare:[] DoNotCopy:[] atomicMessageInfo:0xc0000ada90} sizeCache:0 unknownFields:[] TreeType:classification Criterion:gini SplitStrategy:best ClassNum:2 MaxDepth:3 MaxBins:8 MinSamplesSplit:5 MinSamplesLeaf:5 MaxLeafNodes:16 MinImpurityDecrease:0.1 MinImpuritySplit:0.001 DpBudget:0.1}
2022/01/05 06:03:35 trainworker.go:266: structed params ={
	"tree_type": "classification",
	"criterion": "gini",
	"split_strategy": "best",
	"class_num": 2,
	"max_depth": 3,
	"max_bins": 8,
	"min_samples_split": 5,
	"min_samples_leaf": 5,
	"max_leaf_nodes": 16,
	"min_impurity_decrease": 0.1,
	"min_impurity_split": 0.001,
	"dp_budget": 0.1
}
2022/01/05 06:03:35 trainworker.go:359: [TrainWorker]: ----------- WorkerAddr , printParams Done-----------
2022/01/05 06:03:35 traintask.go:142: [TrainWorker]: begin task model training
2022/01/05 06:03:35 traintask.go:211: [PartyServer]: training method: distributed,  current distributed role:  1
2022/01/05 06:03:35 traintask.go:281: ---------------------------------------------------------------------------------
2022/01/05 06:03:35 traintask.go:282: [TrainWorker]: cmd is "/opt/falcon/build/src/executor/falcon --party-id 1 --party-num 3 --party-type 1 --fl-setting 1 --network-file CgkxMjcuMC4wLjEKCTEyNy4wLjAuMQoJMTI3LjAuMC4xEgsKCYCsAYGsAYKsARILCgmTrAGUrAGVrAESCwoJpqwBp6wBqKwBGgsKCcC1A8C1A8C1Aw== --log-file /opt/falcon/src/falcon_platform/falcon_logs/Party-1_20220105_135821/runtime_logs/party1-distributed-worker2-job1-train-decision_tree/distributed-worker-2 --data-input-file /dataOutputPath/client.txt --data-output-file 0 --existing-key 1 --key-file /dataPath/phe_keys --algorithm-name decision_tree --algorithm-params Cg5jbGFzc2lmaWNhdGlvbhIEZ2luaRoEYmVzdCACKAMwCDgFQAVIEFGamZmZmZm5P1n8qfHSTWJQP2GamZmZmZm5Pw== --model-save-file /modelPath/saved_model.pb --model-report-file /modelPath/report.txt --is-inference 0 --inference-endpoint 0 --is-distributed 1 --distributed-train-network-file Cg8KCTEyNy4wLjAuMRCRrAEKDwoJMTI3LjAuMC4xEJesARIPCgkxMjcuMC4wLjEQh6wBEg8KCTEyNy4wLjAuMRCIrAE= --worker-id 2 --distributed-role 1"
2022/01/05 06:03:35 traintask.go:283: ---------------------------------------------------------------------------------
2022/01/05 06:03:35 traintask.go:286: [TrainWorker]: task model training start
2022/01/05 06:03:35 mngr-process.go:123: [subProcessMngr]: open subProcess, PID= 925
2022/01/05 06:03:36 workerbase.go:172: [WorkerBase]: reset called
2022/01/05 06:03:46 workerbase.go:172: [WorkerBase]: reset called
2022/01/05 06:03:56 workerbase.go:172: [WorkerBase]: reset called
2022/01/05 06:04:06 workerbase.go:172: [WorkerBase]: reset called
2022/01/05 06:04:16 workerbase.go:172: [WorkerBase]: reset called
2022/01/05 06:04:26 workerbase.go:172: [WorkerBase]: reset called
2022/01/05 06:04:36 workerbase.go:172: [WorkerBase]: reset called
2022/01/05 06:04:46 workerbase.go:172: [WorkerBase]: reset called
2022/01/05 06:04:52 mngr-process.go:144: [subProcessMngr]: subprocess exit status: << exit status 1 >> 
2022/01/05 06:04:52 manager.go:86: [ResourceManager]: CreateResources error msg is: 
============> 

=================================================================
==925==ERROR: LeakSanitizer: detected memory leaks

Direct leak of 254856 byte(s) in 7 object(s) allocated from:
    #0 0x7ff9fbcc5608 in operator new[](unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0608)
    #1 0x560921628abb in DecisionTreeBuilder::distributed_train(Party const&, Worker const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:1878
    #2 0x56092164422b in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2741
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 218448 byte(s) in 6 object(s) allocated from:
    #0 0x7ff9fbcc5608 in operator new[](unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0608)
    #1 0x5609216289c4 in DecisionTreeBuilder::distributed_train(Party const&, Worker const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:1877
    #2 0x56092164422b in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2741
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 127456 byte(s) in 7 object(s) allocated from:
    #0 0x7ff9fbcc5608 in operator new[](unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0608)
    #1 0x5609216288a9 in DecisionTreeBuilder::distributed_train(Party const&, Worker const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:1876
    #2 0x56092164422b in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2741
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 109248 byte(s) in 6 object(s) allocated from:
    #0 0x7ff9fbcc5608 in operator new[](unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0608)
    #1 0x5609216287c0 in DecisionTreeBuilder::distributed_train(Party const&, Worker const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:1875
    #2 0x56092164422b in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2741
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 9128 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc5608 in operator new[](unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0608)
    #1 0x560921639368 in DecisionTreeBuilder::distributed_eval(Party&, Worker const&, falcon::DatasetType) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2269
    #2 0x5609216443ef in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2748
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 9128 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc5608 in operator new[](unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0608)
    #1 0x560921638b55 in DecisionTreeBuilder::distributed_eval(Party&, Worker const&, falcon::DatasetType) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2259
    #2 0x5609216443ef in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2748
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 2288 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc5608 in operator new[](unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0608)
    #1 0x560921639368 in DecisionTreeBuilder::distributed_eval(Party&, Worker const&, falcon::DatasetType) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2269
    #2 0x560921644411 in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2749
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 2288 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc5608 in operator new[](unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0608)
    #1 0x5609215f506d in TreeModel::operator=(TreeModel const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_model.cc:52
    #2 0x56092160700a in DecisionTreeBuilder::DecisionTreeBuilder(DecisionTreeParams, std::vector<std::vector<double, std::allocator<double> >, std::allocator<std::vector<double, std::allocator<double> > > >, std::vector<std::vector<double, std::allocator<double> >, std::allocator<std::vector<double, std::allocator<double> > > >, std::vector<double, std::allocator<double> >, std::vector<double, std::allocator<double> >, double, double) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:113
    #3 0x56092164411f in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2739
    #4 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #5 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 2288 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc5608 in operator new[](unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0608)
    #1 0x560921638b55 in DecisionTreeBuilder::distributed_eval(Party&, Worker const&, falcon::DatasetType) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2259
    #2 0x560921644411 in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2749
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fa2824ba in djcs_t_init_public_key (/opt/falcon/third_party/libhcs/lib/libhcs.so+0xa4ba)
    #2 0x5609216443ef in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2748
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Direct leak of 64 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fa2824ba in djcs_t_init_public_key (/opt/falcon/third_party/libhcs/lib/libhcs.so+0xa4ba)
    #2 0x560921644411 in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2749
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 3403568 byte(s) in 21647 object(s) allocated from:
    #0 0x7ff9fbcc3f30 in realloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdef30)
    #1 0x7ff9fab446e3 in __gmp_default_reallocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x96e3)

Indirect leak of 42512 byte(s) in 5314 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x560921628b14 in DecisionTreeBuilder::distributed_train(Party const&, Worker const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:1878
    #3 0x56092164422b in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2741
    #4 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #5 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 34368 byte(s) in 4296 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x560921628a1d in DecisionTreeBuilder::distributed_train(Party const&, Worker const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:1877
    #3 0x56092164422b in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2741
    #4 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #5 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 21256 byte(s) in 2657 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x560921628902 in DecisionTreeBuilder::distributed_train(Party const&, Worker const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:1876
    #3 0x56092164422b in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2741
    #4 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #5 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 17184 byte(s) in 2148 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x560921628819 in DecisionTreeBuilder::distributed_train(Party const&, Worker const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:1875
    #3 0x56092164422b in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2741
    #4 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #5 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 3648 byte(s) in 456 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x5609216393c1 in DecisionTreeBuilder::distributed_eval(Party&, Worker const&, falcon::DatasetType) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2269
    #3 0x5609216443ef in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2748
    #4 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #5 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 912 byte(s) in 114 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x5609216393c1 in DecisionTreeBuilder::distributed_eval(Party&, Worker const&, falcon::DatasetType) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2269
    #3 0x560921644411 in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2749
    #4 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #5 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 800 byte(s) in 4 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)

Indirect leak of 240 byte(s) in 30 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x56092179b512 in Node::Node() /opt/falcon/src/executor/algorithm/vertical/tree/node.cc:10
    #3 0x5609215f50b0 in TreeModel::operator=(TreeModel const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_model.cc:52
    #4 0x56092160700a in DecisionTreeBuilder::DecisionTreeBuilder(DecisionTreeParams, std::vector<std::vector<double, std::allocator<double> >, std::allocator<std::vector<double, std::allocator<double> > > >, std::vector<std::vector<double, std::allocator<double> >, std::allocator<std::vector<double, std::allocator<double> > > >, std::vector<double, std::allocator<double> >, std::vector<double, std::allocator<double> >, double, double) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:113
    #5 0x56092164411f in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2739
    #6 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #7 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 240 byte(s) in 30 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x56092179b522 in Node::Node() /opt/falcon/src/executor/algorithm/vertical/tree/node.cc:10
    #3 0x5609215f50b0 in TreeModel::operator=(TreeModel const&) /opt/falcon/src/executor/algorithm/vertical/tree/tree_model.cc:52
    #4 0x56092160700a in DecisionTreeBuilder::DecisionTreeBuilder(DecisionTreeParams, std::vector<std::vector<double, std::allocator<double> >, std::allocator<std::vector<double, std::allocator<double> > > >, std::vector<std::vector<double, std::allocator<double> >, std::allocator<std::vector<double, std::allocator<double> > > >, std::vector<double, std::allocator<double> >, std::vector<double, std::allocator<double> >, double, double) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:113
    #5 0x56092164411f in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2739
    #6 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #7 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 32 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x560921565639 in djcs_t_public_key_copy(djcs_t_public_key*, djcs_t_public_key*) /opt/falcon/src/executor/operator/phe/djcs_t_aux.cc:308
    #2 0x560921516108 in Party::getter_phe_pub_key(djcs_t_public_key*) const /opt/falcon/include/falcon/party/party.h:319
    #3 0x560921637828 in DecisionTreeBuilder::distributed_eval(Party&, Worker const&, falcon::DatasetType) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2220
    #4 0x560921644411 in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2749
    #5 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #6 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 32 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x560921565639 in djcs_t_public_key_copy(djcs_t_public_key*, djcs_t_public_key*) /opt/falcon/src/executor/operator/phe/djcs_t_aux.cc:308
    #2 0x560921516108 in Party::getter_phe_pub_key(djcs_t_public_key*) const /opt/falcon/include/falcon/party/party.h:319
    #3 0x560921637828 in DecisionTreeBuilder::distributed_eval(Party&, Worker const&, falcon::DatasetType) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2220
    #4 0x5609216443ef in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2748
    #5 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #6 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x5609216443ef in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2748
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

Indirect leak of 8 byte(s) in 1 object(s) allocated from:
    #0 0x7ff9fbcc3b40 in __interceptor_malloc (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xdeb40)
    #1 0x7ff9fab44698 in __gmp_default_allocate (/usr/lib/x86_64-linux-gnu/libgmp.so.10+0x9698)
    #2 0x560921644411 in train_decision_tree(Party*, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, int, Worker*) /opt/falcon/src/executor/algorithm/vertical/tree/tree_builder.cc:2749
    #3 0x5609214d925d in main /opt/falcon/src/executor/main.cc:348
    #4 0x7ff9f8cd9bf6 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x21bf6)

SUMMARY: AddressSanitizer: 4260064 byte(s) leaked in 36733 allocation(s).
 
<============
2022/01/05 06:04:52 manager.go:105: [ResourceManager]: DeleteResources done
2022/01/05 06:04:52 trainworker.go:92: [TrainWorker]: WorkerAddr 127.0.0.1:22034, TrainWorker.DoTask for task model_training done
2022/01/05 06:04:52 workerbase.go:110: [WorkerBase]: Shutdown called, TrainWorker: Shutdown 127.0.0.1:22034
2022/01/05 06:04:52 manager.go:100: [ResourceManager]: Wait worker kill all process/containers
2022/01/05 06:04:52 manager.go:105: [ResourceManager]: DeleteResources done
2022/01/05 06:04:52 manager.go:105: [ResourceManager]: DeleteResources done
2022/01/05 06:04:52 rpcbase.go:90: [TrainWorker]: Listener.Accept Error: accept tcp [::]:22034: use of closed network connection 
2022/01/05 06:04:52 mngr-process.go:168: [subProcessMngr]: Manually Killed PID=cmd.Process.Pid 920
2022/01/05 06:04:53 workerbase.go:139: [TrainWorker]: server 127.0.0.1:22034 quit HeartBeat eventLoop 
2022/01/05 06:04:54 mngr-process.go:144: [subProcessMngr]: subprocess exit status: << signal: quit (core dumped) >> 
2022/01/05 06:04:54 manager.go:86: [ResourceManager]: CreateResources error msg is: 
============> 
Start listening on thread 139910334265088
Party 1 is listening on port 56001 for external client connections.
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 2
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 1
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 0
REWINDING - ONLY FOR BENCHMARKING
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 2
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 1
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 0
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 1
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 2
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 0
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 1
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 2
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 0
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 1
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 2
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 0
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 1
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 2
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 0
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 2
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 1
Thread 139910334265088 found server.
Party 1 received external client connection from client id: 0
Thread 139910334265088 found server.
 
<============
